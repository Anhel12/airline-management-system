<!DOCTYPE html>
<html lang="ru"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <title>Aviro Airlines - Поиск авиабилетов</title>
    <link rel="stylesheet" th:href="@{/styles/tickets.css}" />
</head>
<body>
<div class="screen">
    <div class="rectangle"></div>
    <header class="view">
        <nav class="div" aria-label="Форма поиска билетов">
            <form class="search-form" role="search" th:action="@{/tickets}">
                <div class="view-2">
                    <input
                            type="text"
                            class="rectangle-input"
                            placeholder="Откуда"
                            aria-label="Город отправления"

                            th:field="${filter.departureCity}"
                    />
                </div>

                <div class="view-3">
                    <input
                            type="text"
                            class="rectangle-input-2"
                            placeholder="Куда"
                            aria-label="Город назначения"

                            th:field="${filter.arrivalCity}"
                    />
                </div>

                <div class="view-5">
                    <input
                            type="text"
                            class="rectangle-input-3"
                            placeholder="Туда"
                            onfocus="this.type='date'"
                            onblur="this.type='text'"
                            th:field="${filter.departureDate}"

                    />
                </div>

                <div class="view-6">
                    <input
                            type="text"
                            class="rectangle-input-4"
                            placeholder="Обратно"
                            onfocus="this.type='date'"
                            onblur="this.type='text'"
                            th:field="${filter.returnDate}"
                    />
                </div>

                <div class="view-4">
                    <input
                            type="text"
                            class="rectangle-input-5"
                            placeholder="Кол-во Пассажиров"
                            min="1"
                            max="9"
                            value="1"
                            required
                            onfocus="this.type='number'"
                            onblur="this.type='text'"
                            th:field="${filter.numberOfPassenger}"
                    />
                </div>

                <div class="view-7">
                    <button type="submit" class="rectangle-4">
                        Найти
                    </button>
                </div>

                <img
                        class="image"
                        th:src="@{/img/swap2.png}"
                        alt="Поменять направления"
                />
            </form>
        </nav>
        <div class="view-8">
            <div class="aviro-airlines">
                <h1 class="p">
                    <a th:href="@{/home}" class="brand-title">
                        <span class="brand-bold">Aviro</span> Airlines
                    </a>
                </h1>
            </div>
            <nav class="div-wrapper" aria-label="Дополнительная навигация">
                <a th:href="@{/baggage}" class="text-wrapper-8">Нормы багажа</a>
            </nav>
            <div class="view-9">
                <a sec:authorize="isAnonymous()" th:href="@{/login}" class="text-wrapper-9">Вход</a>
                <a sec:authorize="isAuthenticated()" th:href="@{/profile/orders}">
                    <img th:src="@{/img/account.svg}" alt="account-photo" class="account">
                </a>
            </div>
        </div>
        <section class="view-10" aria-label="Информация о поиске">
            <div class="text-wrapper-11">
                <div th:if="${filter.departureCity != null}">
                    <span th:text="${filter.departureCity}">departureCity</span>
                </div>
                <span th:if="${filter.arrivalCity != null && filter.departureCity != null}">-</span>
                <div th:if="${filter.arrivalCity != null}">
                    <span th:text="${filter.arrivalCity}">arrivalCity</span>
                </div>
                <span th:if="${filter.arrivalCity == null && filter.departureCity == null}">Все города</span>
            </div>
            <img class="img" th:src="@{/img/dot.svg}" alt="" aria-hidden="true" />
            <div class="text-wrapper-10">
                <div th:if="${filter.departureDate != null}">
                    <span th:text="${#temporals.format(filter.departureDate, 'dd MMM')}">departureDate</span>
                </div>
                <span th:if="${filter.returnDate != null && filter.departureDate != null}">-</span>
                <div th:if="${filter.returnDate != null}">
                    <span th:text="${#temporals.format(filter.returnDate, 'dd MMM')}">returnDate</span>
                </div>
                <span th:if="${filter.departureDate == null && filter.returnDate == null}">Все даты</span>
            </div>
            <img class="img" th:src="@{/img/dot.svg}" alt="" aria-hidden="true" />
            <div class="text-wrapper-12">
                <span th:text="${filter.numberOfPassenger}">numberOfPassenger</span>
                <span th:if="${filter.numberOfPassenger} == 1" th:text="пассажир">пассажир</span>
                <span th:if="${filter.numberOfPassenger} < 5" th:text="пассажира">пассажира</span>
                <span th:if="${filter.numberOfPassenger} > 4" th:text="пассажиров">пассажиров</span>

            </div>
        </section>
    </header>
    <main class="view-11">
        <div class="main-inner">
        <div class="view-12" aria-label="Фильтры поиска">
            <div class="view-13">
                <label for="direct-flights-toggle" class="text-wrapper-14">Прямые рейсы</label>
                <input type="checkbox" id="direct-flights-toggle" class="view-14" aria-label="Только прямые рейсы" />
            </div>
        </div>
        <article id="tickets" class="view-16" aria-label="Рейсы">
            <div class="ticket" th:each="ticket: ${tickets.content}">
                <div class="element">
                    <time class="text-wrapper-23" th:text="${ticket.arrivalDateTime.toLocalTime()}">arrivalTime</time>
                    <span class="text-wrapper-24" th:text="${ticket.arrivalAirportCode}">arrivalAirportCode</span>
                </div>
                <div class="view-18">
                    <time class="text-wrapper-25" th:text="${ticket.departureDateTime.toLocalTime()}">departureTime</time>
                    <span class="text-wrapper-26" th:text="${ticket.departureAirportCode}">departureAirportCode</span>
                </div>
                <div class="div-3">
                    <div class="text-wrapper-28">
                        <span th:text="${ticket.timeInAir}">timeInAir</span>
                        <span>, прямой</span>
                    </div>
                    <div class="view-19" aria-hidden="true">
                        <span class="text-wrapper-29">------------------------------------></span>
                    </div>
                    <span class="text-wrapper-27" th:text="${ticket.flightNumber}">flightNumber</span>
                </div>
                <div class="view-20">
                    <span class="text-wrapper-31" th:text="${ticket.price}">price</span>
                    <span class="text-wrapper-31"> руб</span>
                </div>
                <div class="view-17">
                    <button type="button" class="text-wrapper-22">Выбрать</button>
                </div>
            </div>
            <div th:if="${tickets.totalPages > 1}" class="pagination">

                <a th:href="${url + '&page=0'} + '#tickets'"
                   th:class="${tickets.first} ? 'disabled' : ''">
                    Первая
                </a>

                <a th:href="${url + '&page=' + (tickets.getNumber() - 1)} + '#tickets'"
                   th:class="${tickets.hasPrevious()} ? '' : 'disabled'">
                    ←
                </a>

                <span class="current">
        [[${tickets.number + 1}]] / [[${tickets.totalPages}]]
    </span>

                <a th:href="${url + '&page=' + (tickets.getNumber() + 1)} + '#tickets'"
                   th:class="${tickets.hasNext()} ? '' : 'disabled'">
                    →
                </a>

                <a th:href="${url + '&page=' + (tickets.getTotalPages() - 1)} + '#tickets'"
                   th:class="${tickets.last} ? 'disabled' : ''">
                    Последняя
                </a>

            </div>
        </article>
        <aside class="view-30" aria-label="Итоговая стоимость">
            <div class="view-31">
                <div class="rectangle-8"></div>
                <button type="button" class="text-wrapper-59">Продолжить</button>
            </div>
            <div class="view-32">
                <span class="text-wrapper-60">8000 руб</span>
                <span class="text-wrapper-61">Взрослые:</span>
                <div class="rectangle-9" aria-hidden="true"></div>
                <div class="rectangle-10" aria-hidden="true"></div>
                <span class="text-wrapper-62">Авиабилеты</span>
                <span class="text-wrapper-63">8000 руб</span>
            </div>
        </aside>
        </div>
    </main>
</div>
</body>
</html>
